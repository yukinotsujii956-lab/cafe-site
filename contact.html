<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Contact | Leaf & Latte</title>
  <meta name="description" content="お問い合わせ、予約リクエスト、アクセス情報。">
  <link rel="stylesheet" href="css/style.css?v=10">
  <link rel="icon" href="images/favicon.png">
</head>

<body>
<header class="site-header">
  <div class="container nav">
    <a class="brand" href="index.html">
      <span class="logo" aria-hidden="true"></span>
      <span>Leaf & Latte</span>
    </a>
    <nav aria-label="Primary">
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="menu.html">Menu</a></li>
        <li><a href="about.html">About</a></li>
        <li><a class="active" href="contact.html">Contact</a></li>
      </ul>
      <!-- 言語切替リンク -->
      <div class="lang">
        <a href="contact.html" class="is-active" aria-label="日本語">JP</a>
        <a href="en/contact.html" aria-label="English">EN</a>
      </div>
    </nav>
  </div>
</header>

<main class="container section reveal">
  <div class="head">
    <h2>お問い合わせ / 予約</h2>
    <p>下記フォームからご連絡ください（デモ用／送信後はthanksページに移動します）</p>
  </div>

  <!-- ★ フォーム本体 -->
  <form id="contact-form" class="form" action="https://formspree.io/f/xwpnwbeb" method="POST">
    <div>
      <label for="name">お名前</label>
      <input id="name" name="name" required>
    </div>
    <div>
      <label for="email">メールアドレス</label>
      <input id="email" name="email" type="email" required>
    </div>
    <div class="full">
      <label for="date">来店希望日</label>
      <input id="date" name="date" type="date">
    </div>
    <div class="full">
      <label for="msg">内容</label>
      <textarea id="msg" name="message" placeholder="予約人数、時間などをご記入ください"></textarea>
    </div>
    <div class="full">
      <button class="btn" type="submit">送信</button>
    </div>
  </form>

  <div class="section reveal">
    <div class="head"><h2>アクセス</h2><p>下の地図はサンプルです</p></div>
    <iframe class="map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d404770.7271785947!2d140.365!3d42.885" allowfullscreen loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
  </div>
</main>

</html>
<footer class="site-footer">…</footer>

<!-- 1) ページ内のrevealを強制表示（保険） -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    document.querySelectorAll('.reveal, .reveal-stagger').forEach(function (el) {
      el.classList.add('is-visible');
    });
  });
</script>

<!-- 2) スクロール演出の本体（あればそのまま） -->
<script src="js/app.js?v=1"></script>

<!-- 3) 送信成功で thanks.html に遷移させるJS（前回のやつ） -->
<script>
document.getElementById("contact-form")?.addEventListener("submit", function(e){
  e.preventDefault();
  const form = e.target;
  const data = new FormData(form);
  fetch(form.action, { method: form.method, body: data, headers: { 'Accept': 'application/json' } })
    .then(res => { if (res.ok) location.href = "thanks.html"; else alert("送信に失敗しました。もう一度お試しください。"); })
    .catch(err => alert("エラーが発生しました: " + err));
});
</script>
</body>
</html>
